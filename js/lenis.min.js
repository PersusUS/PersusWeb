!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).Lenis=i()}(this,function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function i(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function e(){return(e=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function o(t){var i=function t(i,e){if("object"!=typeof i||null===i)return i;var o=i[Symbol.toPrimitive];if(void 0!==o){var n=o.call(i,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}(t,"string");return"symbol"==typeof i?i:String(i)}function n(t,i,e){return Math.max(t,Math.min(i,e))}var s=function(){function t(){}var i=t.prototype;return i.advance=function t(i){if(this.isRunning){var e,o,s,r,l,h,a,c,u=!1;if(this.lerp)this.value=(e=this.value,o=this.to,s=60*this.lerp,r=i,l=e,h=o,(1-(a=1-Math.exp(-s*r)))*l+a*h),Math.round(this.value)===this.to&&(this.value=this.to,u=!0);else{this.currentTime+=i;var p=n(0,this.currentTime/this.duration,1),v=(u=p>=1)?1:this.easing(p);this.value=this.from+(this.to-this.from)*v}null==(c=this.onUpdate)||c.call(this,this.value,{completed:u}),u&&this.stop()}},i.stop=function t(){this.isRunning=!1},i.fromTo=function t(i,e,o){var n=o.lerp,s=o.duration,r=o.easing,l=o.onUpdate;this.from=this.value=i,this.to=e,this.lerp=void 0===n?.1:n,this.duration=void 0===s?1:s,this.easing=void 0===r?function(t){return t}:r,this.currentTime=0,this.isRunning=!0,this.onUpdate=l},t}(),r=function(){function t(t){var i=this,e=void 0===t?{}:t,o=e.wrapper,n=e.content,s=e.autoResize;if(this.resize=function(){i.onWrapperResize(),i.onContentResize()},this.onWrapperResize=function(){i.wrapper===window?(i.width=window.innerWidth,i.height=window.innerHeight):(i.width=i.wrapper.clientWidth,i.height=i.wrapper.clientHeight)},this.onContentResize=function(){i.scrollHeight=i.content.scrollHeight,i.scrollWidth=i.content.scrollWidth},this.wrapper=o,this.content=n,void 0===s||s){var r,l,h=(r=this.resize,function(){var t=arguments,i=this;clearTimeout(l),l=setTimeout(function(){r.apply(i,t)},250)});this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(h),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(h),this.contentResizeObserver.observe(this.content)}this.resize()}return t.prototype.destroy=function t(){var i,e;null==(i=this.wrapperResizeObserver)||i.disconnect(),null==(e=this.contentResizeObserver)||e.disconnect()},i(t,[{key:"limit",get:function t(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),t}(),l=function(){function t(){this.events={}}var i=t.prototype;return i.emit=function t(i){for(var e=this.events[i]||[],o=0,n=e.length;o<n;o++)e[o].apply(e,[].slice.call(arguments,1))},i.on=function t(i,e){var o,n=this;return(null==(o=this.events[i])?void 0:o.push(e))||(this.events[i]=[e]),function(){var t;n.events[i]=null==(t=n.events[i])?void 0:t.filter(function(t){return e!==t})}},i.destroy=function t(){this.events={}},t}(),h=function(){function t(t,i){var e=this,o=i.wheelMultiplier,s=i.touchMultiplier,r=i.normalizeWheel;this.onTouchStart=function(t){var i=t.targetTouches?t.targetTouches[0]:t,o=i.clientX,n=i.clientY;e.touchStart.x=o,e.touchStart.y=n,e.lastDelta={x:0,y:0}},this.onTouchMove=function(t){var i=t.targetTouches?t.targetTouches[0]:t,o=i.clientX,n=i.clientY,s=-(o-e.touchStart.x)*e.touchMultiplier,r=-(n-e.touchStart.y)*e.touchMultiplier;e.touchStart.x=o,e.touchStart.y=n,e.lastDelta={x:s,y:r},e.emitter.emit("scroll",{type:"touch",deltaX:s,deltaY:r,event:t})},this.onTouchEnd=function(t){e.emitter.emit("scroll",{type:"touch",inertia:!0,deltaX:e.lastDelta.x,deltaY:e.lastDelta.y,event:t})},this.onWheel=function(t){var i=t.deltaX,o=t.deltaY;e.normalizeWheel&&(i=n(-100,i,100),o=n(-100,o,100)),i*=e.wheelMultiplier,o*=e.wheelMultiplier,e.emitter.emit("scroll",{type:"wheel",deltaX:i,deltaY:o,event:t})},this.element=t,this.wheelMultiplier=void 0===o?1:o,this.touchMultiplier=void 0===s?2:s,this.normalizeWheel=void 0!==r&&r,this.touchStart={x:null,y:null},this.emitter=new l,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}var i=t.prototype;return i.on=function t(i,e){return this.emitter.on(i,e)},i.destroy=function t(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})},t}();return function(){function t(t){var i=this,o=void 0===t?{}:t,n=o.wrapper,a=void 0===n?window:n,c=o.content,u=void 0===c?document.documentElement:c,p=o.wheelEventsTarget,v=void 0===p?a:p,d=o.smoothWheel,m=void 0===d||d,f=o.smoothTouch,$=void 0!==f&&f,g=o.syncTouch,y=o.syncTouchLerp,S=o.__iosNoInertiaSyncTouchLerp,_=o.touchInertiaMultiplier,w=o.duration,T=o.easing,z=o.lerp,b=o.infinite,L=o.orientation,E=o.gestureOrientation,M=o.touchMultiplier,R=void 0===M?1:M,W=o.wheelMultiplier,k=void 0===W?1:W,O=o.normalizeWheel,x=void 0!==O&&O,H=o.autoResize,X=void 0===H||H;this.onVirtualScroll=function(t){var o=t.type,n=t.inertia,s=t.deltaX,r=t.deltaY,l=t.event;if(!l.ctrlKey){var h="touch"===o,a="wheel"===o;if(("vertical"!==i.options.gestureOrientation||0!==r)&&("horizontal"!==i.options.gestureOrientation||0!==s)&&(!h||"vertical"!==i.options.gestureOrientation||0!==i.scroll||i.options.infinite||!(r<=0))&&!l.composedPath().find(function(t){return(null==t?void 0:null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent"))||h&&(null==t?void 0:null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-touch"))||a&&(null==t?void 0:null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-wheel"))})){if(i.isStopped||i.isLocked){l.preventDefault();return}if(i.isSmooth=(i.options.smoothTouch||i.options.syncTouch)&&h||i.options.smoothWheel&&a,!i.isSmooth){i.isScrolling=!1,i.animate.stop();return}l.preventDefault();var c=r;"both"===i.options.gestureOrientation?c=Math.abs(r)>Math.abs(s)?r:s:"horizontal"===i.options.gestureOrientation&&(c=s);var u=h&&i.options.syncTouch,p=h&&n&&Math.abs(c)>1;p&&(c=i.velocity*i.options.touchInertiaMultiplier),i.scrollTo(i.targetScroll+c,e({programmatic:!1},u&&{lerp:p?i.syncTouchLerp:i.options.__iosNoInertiaSyncTouchLerp}))}}},this.onScroll=function(){if(!i.isScrolling){var t=i.animatedScroll;i.animatedScroll=i.targetScroll=i.actualScroll,i.velocity=0,i.direction=Math.sign(i.animatedScroll-t),i.emit()}},window.lenisVersion="1.0.18",(a===document.documentElement||a===document.body)&&(a=window),this.options={wrapper:a,content:u,wheelEventsTarget:v,smoothWheel:m,smoothTouch:$,syncTouch:void 0!==g&&g,syncTouchLerp:void 0===y?.1:y,__iosNoInertiaSyncTouchLerp:void 0===S?.4:S,touchInertiaMultiplier:void 0===_?35:_,duration:w,easing:void 0===T?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:T,lerp:void 0===z?w&&.1:z,infinite:void 0!==b&&b,gestureOrientation:void 0===E?"vertical":E,orientation:void 0===L?"vertical":L,touchMultiplier:R,wheelMultiplier:k,normalizeWheel:x,autoResize:X},this.dimensions=new r({wrapper:a,content:u,autoResize:X}),this.rootElement.classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=m||$,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new s,this.emitter=new l,this.options.wrapper.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new h(v,{touchMultiplier:R,wheelMultiplier:k,normalizeWheel:x}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var o=t.prototype;return o.destroy=function t(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.rootElement.classList.remove("lenis"),this.rootElement.classList.remove("lenis-smooth"),this.rootElement.classList.remove("lenis-scrolling"),this.rootElement.classList.remove("lenis-stopped")},o.on=function t(i,e){return this.emitter.on(i,e)},o.off=function t(i,e){var o;this.emitter.events[i]=null==(o=this.emitter.events[i])?void 0:o.filter(function(t){return e!==t})},o.setScroll=function t(i){this.isHorizontal?this.rootElement.scrollLeft=i:this.rootElement.scrollTop=i},o.resize=function t(){this.dimensions.resize()},o.emit=function t(){this.emitter.emit("scroll",this)},o.reset=function t(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0,this.animate.stop()},o.start=function t(){this.isStopped=!1,this.reset()},o.stop=function t(){this.isStopped=!0,this.animate.stop(),this.reset()},o.raf=function t(i){var e=i-(this.time||i);this.time=i,this.animate.advance(.001*e)},o.scrollTo=function t(i,e){var o=this,s=void 0===e?{}:e,r=s.offset,l=void 0===r?0:r,h=s.immediate,a=s.lock,c=void 0!==a&&a,u=s.duration,p=void 0===u?this.options.duration:u,v=s.easing,d=void 0===v?this.options.easing:v,m=s.lerp,f=void 0===m?!p&&this.options.lerp:m,$=s.onComplete,g=void 0===$?null:$,y=s.force,S=s.programmatic,_=void 0===S||S;if(!this.isStopped||void 0!==y&&y){if(["top","left","start"].includes(i))i=0;else if(["bottom","right","end"].includes(i))i=this.limit;else if("string"==typeof i?T=document.querySelector(i):null!=(w=i)&&w.nodeType&&(T=i),T){if(this.options.wrapper!==window){var w,T,z=this.options.wrapper.getBoundingClientRect();l-=this.isHorizontal?z.left:z.top}var b=T.getBoundingClientRect();i=(this.isHorizontal?b.left:b.top)+this.animatedScroll}if("number"==typeof i){if(i+=l,i=Math.round(i),this.options.infinite?_&&(this.targetScroll=this.animatedScroll=this.scroll):i=n(0,i,this.limit),void 0!==h&&h){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.emit(),null==g||g();return}if(!_){if(i===this.targetScroll)return;this.targetScroll=i}this.animate.fromTo(this.animatedScroll,i,{duration:p,easing:d,lerp:f,onUpdate:function t(i,e){var n=e.completed;c&&(o.isLocked=!0),o.isScrolling=!0,o.velocity=i-o.animatedScroll,o.direction=Math.sign(o.velocity),o.animatedScroll=i,o.setScroll(o.scroll),_&&(o.targetScroll=i),n&&(c&&(o.isLocked=!1),requestAnimationFrame(function(){o.isScrolling=!1}),o.velocity=0,null==g||g()),o.emit()}})}}},i(t,[{key:"rootElement",get:function t(){return this.options.wrapper===window?this.options.content:this.options.wrapper}},{key:"limit",get:function t(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}},{key:"isHorizontal",get:function t(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function t(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function t(){var i,e;return this.options.infinite?(i=this.animatedScroll,(i%(e=this.limit)+e)%e):this.animatedScroll}},{key:"progress",get:function t(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function t(){return this.__isSmooth},set:function t(i){this.__isSmooth!==i&&(this.rootElement.classList.toggle("lenis-smooth",i),this.__isSmooth=i)}},{key:"isScrolling",get:function t(){return this.__isScrolling},set:function t(i){this.__isScrolling!==i&&(this.rootElement.classList.toggle("lenis-scrolling",i),this.__isScrolling=i)}},{key:"isStopped",get:function t(){return this.__isStopped},set:function t(i){this.__isStopped!==i&&(this.rootElement.classList.toggle("lenis-stopped",i),this.__isStopped=i)}}]),t}()});